<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마스터마인드 12주차 책 목록 | READSTER</title>
    <link rel="stylesheet" href="book-styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="마스터마인드 책">
    <link rel="apple-touch-icon" href="icon.svg">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><i class="fas fa-book-open"></i> 마스터마인드 12주차 책 목록</h1>
            <p class="subtitle">성공을 위한 단계별 학습 가이드</p>
        </header>

        <!-- 통계 카드 섹션 -->
        <div class="stats-container">
            <div class="stat-card">
                <div class="stat-number" id="totalBooksCount">0</div>
                <div class="stat-label">전체 책</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completedBooksCount">0</div>
                <div class="stat-label">완료된 책</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="currentWeekBooks">0</div>
                <div class="stat-label">읽는 중인 책</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="completionRate">0%</div>
                <div class="stat-label">완료율</div>
            </div>
        </div>
        
        <!-- 필터 버튼 추가 -->
        <div class="filter-container">
            <button class="filter-btn active" data-filter="all">
                <i class="fas fa-list"></i> 전체 보기
            </button>
            <button class="filter-btn" data-filter="reading">
                <i class="fas fa-book-open"></i> 읽는 중
            </button>
            <button class="filter-btn" data-filter="completed">
                <i class="fas fa-check-circle"></i> 완료된 책
            </button>
            <button class="filter-btn" data-filter="not-started">
                <i class="fas fa-clock"></i> 시작 전
            </button>
        </div>

        <!-- 검색 및 책 추가 기능 -->
        <div class="search-add-container">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="책 제목이나 설명으로 검색...">
            </div>
            <button class="add-book-btn" onclick="openAddBookModal()">
                <i class="fas fa-plus"></i> 책 추가
            </button>
        </div>

        <div class="week-selector">
            <button class="week-btn active" data-week="all">
                <i class="fas fa-list"></i> 전체보기
            </button>
            <button class="week-btn" data-week="1">1주차</button>
            <button class="week-btn" data-week="2">2주차</button>
            <button class="week-btn" data-week="3">3주차</button>
            <button class="week-btn" data-week="4">4주차</button>
            <button class="week-btn" data-week="5">5주차</button>
            <button class="week-btn" data-week="6">6주차</button>
            <button class="week-btn" data-week="7">7주차</button>
            <button class="week-btn" data-week="8">8주차</button>
            <button class="week-btn" data-week="9">9주차</button>
            <button class="week-btn" data-week="10">10주차</button>
            <button class="week-btn" data-week="11">11주차</button>
            <button class="week-btn" data-week="12">12주차</button>
        </div>

        <div class="books-container" id="booksContainer">
            <!-- 책 목록이 여기에 동적으로 추가됩니다 -->
        </div>

        <div class="progress-section">
            <h2><i class="fas fa-chart-line"></i> 학습 진행률</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text">
                <span id="completedBooks">0</span> / <span id="totalBooks">0</span> 권 완료
            </div>
        </div>
    </div>

    <script src="book-script.js"></script>
    
    <!-- 노트 모달 -->
    <div id="noteModal" class="note-modal">
        <div class="note-modal-content">
            <div class="note-modal-header">
                <h3 id="noteModalTitle">책 노트 작성</h3>
                <button class="note-close-btn" onclick="closeNoteModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="note-modal-body">
                <div class="note-textarea-container">
                    <textarea 
                        id="noteTextarea" 
                        placeholder="여기에 노트를 작성하세요 (최대 2000자)"
                        maxlength="2000"
                    ></textarea>
                    <div class="note-char-count">
                        <span id="currentCharCount">0</span> / 2000자
                    </div>
                </div>
            </div>
            <div class="note-modal-footer">
                <button class="note-save-btn" onclick="saveNote()">
                    <i class="fas fa-save"></i> 저장
                </button>
                <button class="note-cancel-btn" onclick="closeNoteModal()">
                    <i class="fas fa-times"></i> 취소
                </button>
            </div>
        </div>
    </div>

    <!-- 책 추가 모달 -->
    <div id="addBookModal" class="add-book-modal">
        <div class="add-book-modal-content">
            <div class="add-book-modal-header">
                <h3><i class="fas fa-plus-circle"></i> 새 책 추가</h3>
                <button class="add-book-close-btn" onclick="closeAddBookModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="add-book-modal-body">
                <form id="addBookForm">
                    <div class="form-group">
                        <label for="bookTitle">책 제목 *</label>
                        <input type="text" id="bookTitle" name="title" required placeholder="예: 부의 추월차선">
                    </div>
                    <div class="form-group">
                        <label for="bookAuthor">저자</label>
                        <input type="text" id="bookAuthor" name="author" placeholder="예: 엠제이 드마코">
                    </div>
                    <div class="form-group">
                        <label for="bookCategory">분야</label>
                        <select id="bookCategory" name="category">
                            <option value="경제/경영">경제/경영</option>
                            <option value="자기계발">자기계발</option>
                            <option value="인문/철학">인문/철학</option>
                            <option value="과학/기술">과학/기술</option>
                            <option value="문학">문학</option>
                            <option value="역사">역사</option>
                            <option value="건강/의학">건강/의학</option>
                            <option value="기타">기타</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bookWeek">주차 *</label>
                        <select id="bookWeek" name="week" required>
                            <option value="">주차를 선택하세요</option>
                            <option value="1">1주차</option>
                            <option value="2">2주차</option>
                            <option value="3">3주차</option>
                            <option value="4">4주차</option>
                            <option value="5">5주차</option>
                            <option value="6">6주차</option>
                            <option value="7">7주차</option>
                            <option value="8">8주차</option>
                            <option value="9">9주차</option>
                            <option value="10">10주차</option>
                            <option value="11">11주차</option>
                            <option value="12">12주차</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="bookDescription">설명</label>
                        <textarea id="bookDescription" name="description" placeholder="책에 대한 간단한 설명을 입력하세요 (선택사항)"></textarea>
                    </div>
                </form>
            </div>
            <div class="add-book-modal-footer">
                <button class="add-book-save-btn" onclick="saveNewBook()">
                    <i class="fas fa-save"></i> 책 추가
                </button>
                <button class="add-book-cancel-btn" onclick="closeAddBookModal()">
                    <i class="fas fa-times"></i> 취소
                </button>
            </div>
        </div>
    </div>
</body>
</html>